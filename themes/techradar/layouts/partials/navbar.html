<nav class="sc-header-navbar">
  <ul>
    {{ $p := . }}
    {{ range .Site.Menus.main }}
      {{ $active := or ($p.IsMenuCurrent "main" .) ($p.HasMenuCurrent "main" .) }}
      {{ with .Page }}
      {{ $active = or $active ( $.IsDescendant .)  }}
      {{ end }}

      {{ $url := urls.Parse .URL }}
      {{ $baseurl := urls.Parse $.Site.Params.Baseurl }}
      <li class="sc-header-navbar-item {{if $active }} is-active{{end}}">
        <a href="{{ with .Page }}{{ .RelPermalink }}{{ else }}{{ .URL | relLangURL }}{{ end }}" {{ if ne $url.Host $baseurl.Host }}target="_blank" {{ end }}>{{ .Name }}</a>
      </li>
    {{end}}
  </ul>
</nav>